{"ast":null,"code":"import _objectSpread from \"/home/dennis/\\u684C\\u9762/midterm_ToDoList/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/home/dennis/\\u684C\\u9762/midterm_ToDoList/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/dennis/\\u684C\\u9762/midterm_ToDoList/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nimport { FETCH_TODOS, ADD_TODO, TOGGLE_TODO, UPDATE_TODO, DELETE_TODO, TOGGLE_TAB } from \"./types\";\nexport var fetchTodos = function fetchTodos() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"/api/todos\");\n\n              case 2:\n                res = _context.sent;\n                dispatch({\n                  type: FETCH_TODOS,\n                  payload: res.data\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var addTodo = function addTodo(name) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.post(\"/api/todos\", {\n                  name: name\n                });\n\n              case 2:\n                res = _context2.sent;\n                dispatch({\n                  type: ADD_TODO,\n                  payload: res.data\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var toggleTodo = function toggleTodo(id) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.put(\"/api/todos/\".concat(id));\n\n              case 2:\n                res = _context3.sent;\n                dispatch({\n                  type: TOGGLE_TODO,\n                  payload: res.data\n                });\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var updateTodo = function updateTodo(id, name) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return axios.put(\"/api/todos/\".concat(id, \"/edit\"), {\n                  name: name\n                });\n\n              case 2:\n                res = _context4.sent;\n                dispatch({\n                  type: UPDATE_TODO,\n                  payload: _objectSpread({}, res.data, {\n                    name: name\n                  })\n                });\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var deleteTodo = function deleteTodo(id) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return axios.delete(\"/api/todos/\".concat(id));\n\n              case 2:\n                res = _context5.sent;\n                dispatch({\n                  type: DELETE_TODO,\n                  payload: res.data\n                });\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var toggleTab = function toggleTab(tab) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref6 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                dispatch({\n                  type: TOGGLE_TAB,\n                  filter: tab\n                });\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function (_x6) {\n        return _ref6.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["/home/dennis/桌面/midterm_ToDoList/client/src/actions/index.js"],"names":["axios","FETCH_TODOS","ADD_TODO","TOGGLE_TODO","UPDATE_TODO","DELETE_TODO","TOGGLE_TAB","fetchTodos","dispatch","get","res","type","payload","data","addTodo","name","post","toggleTodo","id","put","updateTodo","deleteTodo","delete","toggleTab","tab","filter"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport {\n  FETCH_TODOS,\n  ADD_TODO,\n  TOGGLE_TODO,\n  UPDATE_TODO,\n  DELETE_TODO,\n  TOGGLE_TAB\n} from \"./types\";\n\nexport const fetchTodos = () => async dispatch => {\n  const res = await axios.get(\"/api/todos\");\n\n  dispatch({ type: FETCH_TODOS, payload: res.data });\n};\n\nexport const addTodo = name => async dispatch => {\n  const res = await axios.post(\"/api/todos\", { name });\n\n  dispatch({ type: ADD_TODO, payload: res.data });\n};\n\nexport const toggleTodo = id => async dispatch => {\n  const res = await axios.put(`/api/todos/${id}`);\n\n  dispatch({ type: TOGGLE_TODO, payload: res.data });\n};\n\nexport const updateTodo = (id, name) => async dispatch => {\n  const res = await axios.put(`/api/todos/${id}/edit`, { name });\n\n  dispatch({ type: UPDATE_TODO, payload: { ...res.data, name } });\n};\n\nexport const deleteTodo = id => async dispatch => {\n  const res = await axios.delete(`/api/todos/${id}`);\n\n  dispatch({ type: DELETE_TODO, payload: res.data });\n};\n\nexport const toggleTab = tab => async dispatch => {\n  dispatch({ type: TOGGLE_TAB, filter: tab });\n};\n"]},"metadata":{},"sourceType":"module"}